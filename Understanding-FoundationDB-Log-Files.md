# Trace Event Descriptions

# Mandatory Fields

**Type** - The name of the trace event.

**LogGroup** - The value of the `--loggroup` parameter passed to `fdbserver`. This is useful when trace logs from multiple databases are ingested into the same system. 

**Severity:**
* 10 - SevInfo - General information events
* 20 - SevWarn - Indicates a generally rare event, but not indicate a actual problem
* 30 - SevWarnAlways - Indicates an event that could be causing performance problems in a cluster
* 40 - SevError - Indicates one of the assumptions of the database has been violated. Generally caused by hardware failures.

**ID** - The ID of the role which produced the event. For instance, messages logged by the master will contain the master's ID.

**Machine** - The IP address and port of the process which produced the event. For client trace logs the pid of the process is logged instead of the port.

**Time** - The time at which the event happened.

**Roles** - A comma separated list of two letter codes which correspond to all of the roles running on the process at the time the message was logged.

* StorageServer - SS
* TLog - TL
* MasterProxyServer - MP
* MasterServer - MS
* Resolver - RV
* ClusterController - CC
* Tester - TS
* LogRouter - LR
* DataDistributor - DD
* Ratekeeper - RK
* Coordinator - CD

# Common Fields

**Error** - Events which are logged because of an error include the associated [error code.](https://apple.github.io/foundationdb/api-error-codes.html?highlight=error%20codes) 

**Backtrace** - Some high severity events include a backtrace which provides the call stack of the system at the time the event was generated.

**TrackLatestType** - The trace files generated by FoundationDB will automatically roll after a period of time. Some events are re-logged every time the trace file is rolled, so we will always have a history of the last time the message was called. If the TrackLatestType is `Original` that means the event just happened. If the TrackLatestType is `Rolled` it means the event happened sometime in the past. For `Rolled` trace events, the `OriginalTime` field is the time at which the original event happened.

**SuppressedEventCount** - Many events have a maximum cap on the number of times they can be logged in a given time interval. Events that have this time of suppression include the number of events that were not logged in the next message which does get written.

# Periodic Messages

TLogMetrics

ProxyMetrics

StorageMetrics

ProcessMetrics

MachineMetrics

NetworkMetrics

MemoryMetrics

LogRouterMetrics

ClusterControllerMetrics

MovingData

TotalDataInFlight

DDTrackerStats

RkUpdate

RkUpdateBatch

DatacenterVersionDifference

SpringCleaningMetrics

# Edge Triggered Messages

## Generic Failure Info

SlowTask

Net2SlowTaskTrace

FailureDetectionStatus

ConnectingTo

ConnectionClosed

ConnectionTimedOut

ConnectionTimeout

ProgramStart

Role

TLogDegraded

LargeTransaction

ProxyCommitBatchMemoryThresholdExceeded

TooManyNotifications

TooManyStatusRequests

LargePacketSent

LargePacketReceived

HugeArenaSample

GetMagazineSample

SlowKAIOTruncate

SlowKAIOLaunch

KVCommit10sSample

StorageServerUpdateLag

TLogUpdateLag

TraceEventThrottle_*

TLS*

## Master Recovery

MasterRecoveryState

MasterRecovering

MasterRecoveredConfig

MasterRegistrationReceived

MasterRecoveryDuration

MasterTerminated

BetterMasterExists

CCWDB

## TLog Recovery

TLogRestorePersistentState

TLogRestorePersistentStateDone

TLogRecover

TLogReady

TLogPoppedTag

TLogLockStarted

TLogLocked

TLogStop

GetDurableResult

GetDurableResultWaiting

## Storage Server Recovery

Rollback

ReadingDurableState

RestoringDurableState

SSTimeRestoreDurableState

StorageServerStartingCore

## Data Distribution

StatusMapChange

TeamHealthChanged

BuildTeamsBegin

ServerTeamRemover

MachineTeamRemover

DDInitTakingMoveKeysLock

DDInitTookMoveKeysLock

## Coordination

NominatingLeader

ReplacedAsLeader

LeaderTrueHeartbeat

LeaderFalseHeartbeat

LeaderNoHeartbeat

ReleasingLeadership

## Client Messages

ClientStart

TransactionMetrics